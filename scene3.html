<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="apple-mobile-web-app-capable">
		<title>scene3</title>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script> 

    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.12.4/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/bryik/aframe-bmfont-text-component/master/dist/aframe-bmfont-text-component.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>
    <script src="https://unpkg.com/super-hands/dist/super-hands.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v2.1.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-extras/dist/aframe-physics-extras.js"></script>
    <script src="https://dist.3d.io/3dio-js/1.x.x/3dio.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://rawgit.com/feiss/aframe-environment-component/master/dist/aframe-environment-component.min.js"></script>
    <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>
	</head>
	<body>
		<script type="text/javascript" src="js/scenes/scene3.js"></script>
		<a-scene room light="defaultLightsEnabled: false">
			<a-assets>
				<video id="dr-video" src="video/Dr1.mp4" webkit-playsinline></video>
				<img src="img/doctor_message.png" id="msg" />
				<img id="replay-btn" src="img/replay.png" preload="auto">
      	<img id="close-btn" src="img/close.png" preload="auto">
				<audio id="ding" src="sounds/ding.mp3" webkit-playsinline></audio>
				<a-mixin id="gazer" collision-filter="collisionForces: false"></a-mixin>
	      <a-mixin id="pointer" collision-filter="collisionForces: false" 
	               teleport-controls="cameraRig: #player; collisionEntities: #teleport-range">
	      </a-mixin>
	      <a-mixin id="ctrlr" physics-collider collision-filter="collisionForces: false"
	               super-hands="colliderEvent: collisions; colliderEventProperty: els; colliderEndEvent: collisions; colliderEndEventProperty: clearedEls"
	               teleport-controls="cameraRig: #player; collisionEntities: #teleport-range">
	      </a-mixin>
	      <a-asset-item id="desk-mtl" src="model/DESK/DESK.mtl" preload="auto"></a-asset-item>
        <a-asset-item id="desk-obj" src="model/DESK/DESK.obj" preload="auto"></a-asset-item>
			</a-assets>
			<!-- player hands -->
	    <a-entity id="player" progressive-controls="objects: [grabbable], [droppable], [clickable];gazeMixin: gazer; pointMixin: pointer; touchMixin: ctrlr">
	      <a-entity id="rightHand" hand-controls="right" class="right-controller"></a-entity>
	      <a-entity id="leftHand" hand-controls="left" class="left-controller"></a-entity>
	    </a-entity>
			<a-collada-model id="bedroom" src="model/bedroom.dae">
				<a-entity id="desk" scale="0.02 0.02 0.02" obj-model="obj: #desk-obj; mtl: #desk-mtl;" position="-0.324 0 0">
					<a-entity id="box-cover" visible="false" scale="65 95 75" position="13.20 -30 -78">
						<a-collada-model id="boxdown" src="model/boxdown.DAE" position="-0.326 0.427 1.2" collada-model="model/boxdown.DAE"></a-collada-model>
						<a-collada-model id="boxup" src="model/boxup.DAE" position="-0.327 0.44 1.2" collada-model="model/boxup.DAE">
						</a-collada-model>
						<a-box grabbable="maxGrabbers:NaN" static-body="sphereRadius:NaN" id="box-grabber" position="-0.421 0.507 1.011" scale="0.145 0.17 0.132" material="opacity:0;">
						</a-box>
					</a-entity>
				</a-entity>
				<a-collada-model src="model/bookcase_havebook.dae"></a-collada-model>
				<a-entity id="message-area">
					<a-image visible="false" id="drMsg" src="#msg" position="-1.244 1.399 2.855" rotation="0 180.02333923010465 0" scale="3.23 1.904 1.883">
					</a-image>
					<a-video visible="false" src="#dr-video" id="video-player" position="-1.244 1.399 2.855" rotation="0 180.02333923010465 0" scale="3.23 1.904 1.883"></a-video>
					<a-entity visible="false" id="replay-section" position="-0.702 1.373 2.662">
            <a-image id="replayBtn" src="#replay-btn" position="0.642 -0.011 0.011"></a-image>
            <a-image id="closeBtn" src="#close-btn" position="-0.841 0.014 -0.015"></a-image>
          </a-entity>
				</a-entity>
			</a-collada-model>
			<a-camera camera="userHeight: 1.6"></a-camera>
	    <a-box id="teleport-range" position="0.159 0.05 0.048" material="visible:false" geometry="depth:4.53;height:0.01;width:4.67" scale="1.656 1 1.308"></a-box>
			</a-scene>
	</body>
</html>